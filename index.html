
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
        <head>
            <title>  food quality check </title>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            <script src="script.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
            <link rel="stylesheet" type="text/css" href="style.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
        </head>
<body onload="fetchSensorData()">
    <form runat="server"></form>
        <nav class="navbar navbar-inverse" id="top">
		    <div class="navbar-header">
			    <button type="button" data-toggle="collapse" class="navbar-toggle" data-target="#mydiv">
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			    </button>
		    </div>
            <div id="mydiv" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                <li><a href="#home"class="nav__link active-link">Home</a></li>
                <li><a href="#home"class="nav__link">About</a></li>
                <li><a href="#home"class="nav__link">Contact</a></li></ul>
            </div>
            </nav>

	
            <!--===== Home =====-->
            <div class="home" id="home">
            <center>
                <h1>Food Quality Monitoring System </h1>
            </center>
                <img src="image.jpeg" class="img-fluid rounded" alt="My Local Image">
            </div>

	     
            <!--===== ABOUT =====-->
	      <h2 align="center"  font-weight=" bold"  >About</h2>
            <div class="paragraph-box" id="About">
                <p align="center">
               A Food Quality Monitoring System ensures the safety, freshness, and quality of food by continuously measuring essential parameters like pH level, temperature, gas levels, and turbidity. This system is particularly useful in industries like food processing, restaurants, and supply chains to prevent contamination and spoilage.
                </p>
            </div> 
            <div>

		    
         <!--===== Table data =====-->
          <table>
        <tr><td>Temperature</td><td id="temperature">Loading...</td></tr>
        <tr><td>Humidity</td><td id="humidity">Loading...</td></tr>
        <tr><td>Light</td><td id="light">Loading...</td></tr>
        <tr><td>MQ3</td><td id="mq3">Loading...</td></tr>
       </table>
		 <br>
		  <br>

            </div>
            <!--div align="center" class="container">
                <button class="button" onclick="showMessage()">Submit</button>
                <p id="message" class="hidden">Data Saved Successfully! âœ…</p>
           </div-->
       </div>   

	
            <!--===== Contact =====-->
            <!--div id="contact">
		    <center><h2>Contact</h2>
			<ul>
			    <br> contact no: 8999140149</br> 
			    <br>Email id: example123@gmail</br> 
			</ul>
		</center>
            </div-->	
    </form>
	<script>
   function showMessage() {
    var message = document.getElementById("message");
    message.classList.remove("hidden"); // Show message
    message.classList.add("visible"); // Apply animation

    // Hide message after 3 seconds
    setTimeout(function () {
        message.classList.remove("visible");
        message.classList.add("hidden");
    }, 3000);
}
		
function fetchData() {
        fetch("https://api.jsonbin.io/v3/b/679db215e41b4d34e4822105/latest", {
            headers: {
                "X-Master-Key": "$2a$10$oSs7q70C322rgLiDgmdhXOFlhY6w49XuiOOU5vTEFhmkfBWlhUbga"
            }
        })
        .then(response => response.json())
        .then(data => {
            let record = data.record; // Extract actual data
            document.getElementById("temperature").innerText = record.temperature;
            document.getElementById("humidity").innerText = record.humidity;
            document.getElementById("light").innerText = record.light;
            document.getElementById("mq3").innerText = record.mq3;
        })
        .catch(error => console.log("Error fetching data: ", error));
    }

    setInterval(fetchData, 5000); // Fetch data every 5 seconds
    fetchData();

		document.addEventListener("DOMContentLoaded", function () {
    const table = document.querySelector("table");

    function checkScroll() {
        const scrollPosition = window.scrollY + window.innerHeight;
        const tablePosition = table.offsetTop;

        if (scrollPosition > tablePosition) {
            table.classList.add("visible");
        }
    }

    window.addEventListener("scroll", checkScroll);
});
	
	document.addEventListener("DOMContentLoaded", function () {
        const paragraph = document.getElementById("About");
        function checkVisibility() {
            const rect = paragraph.getBoundingClientRect();
            if (rect.top < window.innerHeight * 0.8) {
                paragraph.classList.add("visible");
            }
        }
        window.addEventListener("scroll", checkVisibility);
        checkVisibility(); // Initial check in case already in view
    });

	</script>
</body>
</html>
